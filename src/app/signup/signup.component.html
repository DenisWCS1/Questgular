<!-- Masque du formulaire s'il est submit-->
<div class="formContainer" *ngIf="!visible">
  <h1>Sign up component!</h1>
  <!--<form  (submit)="toggleForm() ">-->
  <form #myForm="ngForm" (ngSubmit)="myForm.valid && toggleForm()">
    <hr />
    <div *ngIf="myForm.submitted && myForm.valid">formulaire envoyé</div>
    <div *ngIf="myForm.valid">formulaire valide</div>
    <div *ngIf="myForm.invalid">Merci de remplir tous les champs</div>
    <hr />
    <fieldset>
      <label for="firstname">*Firstname:</label>
      <input
        type="text"
        name="firstname"
        [(ngModel)]="user.firstname"
        #firstname="ngModel"
        placeholder="Enter firstname"
        minlength="3"
        maxlength="15"
        required
      />
      <div *ngIf="firstname.errors && myForm.submitted">
        <span *ngIf="firstname.errors?.['required'] ">
          *le firsntame est requis
        </span>
        <span *ngIf="firstname.errors?.['minlength']">
          Le * doit comporter au moins 3 caractères</span
        >
        <span *ngIf="firstname.errors?.['maxlength']">
          Le * ne doit pas dépasser 15 caractères</span
        >
      </div>
    </fieldset>
    <fieldset>
      <label for="lastname">*Lastname:</label>
      <input
        type="text"
        name="lastname"
        [(ngModel)]="user.lastname"
        placeholder="Enter Lastname"
        #lastname="ngModel"
        minlength="3"
        maxlength="15"
        required
      />
      <div *ngIf="lastname.errors && myForm.submitted">
        <span *ngIf="lastname.errors?.['required'] ">
          *le lastname est requis
        </span>
        <span *ngIf="lastname.errors?.['minlength']">
          La longueur minimal doit être supérieur à 3</span
        >
        <span *ngIf="lastname.errors?.['maxlength']">
          La longueur minimal doit être inférieur à 15</span
        >
      </div>
    </fieldset>
    <fieldset>
      <label for="email">*Email:</label>
      <input
        type="email"
        name="email"
        [(ngModel)]="user.email"
        placeholder="Enter Email"
        #email="ngModel"
        required
        email
      />
      <div *ngIf="email.errors && myForm.submitted">
        <span *ngIf="email.errors?.['required'] "> *l'email est requis </span>
        <span *ngIf="email.errors?.['email']"> L'email n'est pas valide </span>
      </div>
    </fieldset>

    <button class="registerButton" type="reset">Restaurer</button>
    <button class="registerButton" type="submit">Sauvegarder</button>
  </form>
</div>
<!-- Affichage du résultat si le formulaire est submit-->
<div class="formContainer" *ngIf="visible">
  <p>Your informations:</p>
  <div>
    <div>Firstname: {{ user.firstname }}</div>
    <div>Lastname: {{ user.lastname }}</div>
    <div>Email: {{ user.email }}</div>
    <div>
      <button (click)="toggleForm()" class="registerButton">Retour</button>
    </div>
  </div>
</div>
